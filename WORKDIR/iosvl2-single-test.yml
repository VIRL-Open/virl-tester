#
# ping test
# from lxc-1   (10.0.0.5)
# via  iosvl2-1 
# to   lxc-2   (10.0.0.6)
# 
# ralph
#

config:
  # the VIRL host
  host: {{ env['VIRL_HOST'] or "localhost" }}
  port: {{ env['VIRL_PORT'] or 19399 }}

  # username and password
  user: {{ env['VIRL_USER'] or "guest" }}
  password: {{ env['VIRL_PASS'] or "guest" }}
  # loglevel (0-4, 4=Debug)
  loglevel: 2
  # default wait time (spinup / actions)
  wait: 300
  #parallel: 1


sims:
- topo: Topos/iosvl2-single-test.virl
  nodes:
  - lxc-1:
    - type: command
      transport: ssh
      sleep: 5
      wait: 10
      in:
      - ping -W1 -c1 10.0.0.6
      - ping -c5 10.0.0.6
      out:
      - \ 0% packet loss
  - lxc-2:
    - type: command
      transport: ssh
      sleep: 5
      wait: 10
      in:
      - ping -W1 -c1 10.0.0.5
      - ping -c5 10.0.0.5
      out:
      - \ 0% packet loss
